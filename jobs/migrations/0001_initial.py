# Generated by Django 3.1.7 on 2021-03-25 08:57

import uuid

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="Scope",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("created_at", models.DateTimeField(auto_now_add=True, verbose_name="Дата создания")),
                ("updated_at", models.DateTimeField(auto_now=True, verbose_name="Дата обновления")),
                (
                    "title",
                    models.CharField(
                        help_text="Название специализации",
                        max_length=64,
                        validators=[django.core.validators.MaxLengthValidator],
                        verbose_name="Название",
                    ),
                ),
                ("slug_title", models.SlugField(max_length=128, verbose_name="Слуг")),
            ],
            options={
                "verbose_name": "Область работы",
                "verbose_name_plural": "Области работ",
                "ordering": ("-created_at",),
            },
        ),
        migrations.CreateModel(
            name="Stack",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("created_at", models.DateTimeField(auto_now_add=True, verbose_name="Дата создания")),
                ("updated_at", models.DateTimeField(auto_now=True, verbose_name="Дата обновления")),
                ("name", models.CharField(max_length=64, unique=True, verbose_name="Название")),
                ("slug_name", models.SlugField(max_length=128, verbose_name="Слуг")),
            ],
            options={
                "verbose_name": "Cтек технологий",
                "verbose_name_plural": "Cтек технологий",
            },
        ),
        migrations.CreateModel(
            name="Advert",
            fields=[
                ("id", models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                ("created_at", models.DateTimeField(auto_now_add=True, verbose_name="Дата создания")),
                ("updated_at", models.DateTimeField(auto_now=True, verbose_name="Дата обновления")),
                ("uuid", models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                (
                    "short_description",
                    models.CharField(
                        help_text="Короткое и внятное описание кого вы ищете (макс. 128 символов)",
                        max_length=128,
                        validators=[django.core.validators.MaxLengthValidator],
                        verbose_name="Короткое описание",
                    ),
                ),
                ("slug_short_description", models.SlugField(max_length=256, verbose_name="Слуг")),
                (
                    "long_description",
                    models.TextField(
                        help_text="Подробно составленное объявление работает лучше, перечислите карьерные возмонжости, миссию вашей компании, инженерную культуру компании, etc",
                        max_length=8192,
                        validators=[django.core.validators.MaxLengthValidator],
                        verbose_name="Полное описание вакансии",
                    ),
                ),
                (
                    "level",
                    models.CharField(
                        choices=[
                            ("intern", "Intern"),
                            ("junior", "Junior"),
                            ("middle", "Middle"),
                            ("senior", "Senior"),
                            ("cto", "CTO"),
                        ],
                        default="junior",
                        max_length=16,
                        verbose_name="Уровень кандидата",
                    ),
                ),
                (
                    "salary_from",
                    models.PositiveIntegerField(help_text="Уровень зарплаты от", verbose_name="Зарплата от"),
                ),
                (
                    "salary_to",
                    models.PositiveIntegerField(
                        blank=True, help_text="Уровень зарплаты до", null=True, verbose_name="Зарплата до"
                    ),
                ),
                (
                    "currency",
                    models.CharField(
                        choices=[("usd", "$"), ("eur", "€"), ("gbp", "£"), ("cny", "¥"), ("rub", "₽"), ("uah", "₴")],
                        default="usd",
                        max_length=16,
                        verbose_name="Валюта",
                    ),
                ),
                (
                    "company_name",
                    models.CharField(
                        help_text="Названик компании",
                        max_length=256,
                        validators=[django.core.validators.MaxLengthValidator],
                        verbose_name="Название компании",
                    ),
                ),
                (
                    "country",
                    models.CharField(
                        blank=True,
                        help_text="Страна",
                        max_length=128,
                        null=True,
                        validators=[django.core.validators.MaxLengthValidator],
                        verbose_name="Страна",
                    ),
                ),
                (
                    "city",
                    models.CharField(
                        blank=True,
                        help_text="Город",
                        max_length=128,
                        validators=[django.core.validators.MaxLengthValidator],
                        verbose_name="Город",
                    ),
                ),
                (
                    "telegram",
                    models.CharField(
                        blank=True,
                        help_text="Обратная свзяь в телеграм",
                        max_length=128,
                        validators=[django.core.validators.MaxLengthValidator],
                        verbose_name="Телеграм",
                    ),
                ),
                (
                    "email",
                    models.EmailField(
                        blank=True,
                        help_text="Электронная почта для обратной связи",
                        max_length=254,
                        validators=[django.core.validators.EmailValidator],
                        verbose_name="email",
                    ),
                ),
                ("is_moderate", models.BooleanField(default=False, verbose_name="Модерация")),
                (
                    "vacancy_source_url",
                    models.URLField(
                        blank=True,
                        null=True,
                        validators=[django.core.validators.URLValidator],
                        verbose_name="URL вакансии",
                    ),
                ),
                (
                    "similarity_coefficient",
                    models.FloatField(
                        blank=True, default=0.0, editable=False, null=True, verbose_name="Коэффициент схожести"
                    ),
                ),
                ("similar_adverts", models.JSONField(blank=True, null=True, verbose_name="Похожие посты")),
                (
                    "scope",
                    models.ForeignKey(
                        help_text="Облать работы или тип конкретной специализации кандидата",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="jobs.scope",
                        verbose_name="Область работы",
                    ),
                ),
                (
                    "stack",
                    models.ManyToManyField(related_name="adverts", to="jobs.Stack", verbose_name="Стэк технологий"),
                ),
                (
                    "user",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="advert",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="Пользователь",
                    ),
                ),
            ],
            options={
                "verbose_name": "Объявление",
                "verbose_name_plural": "Объявления",
                "ordering": ("-created_at",),
            },
        ),
    ]
